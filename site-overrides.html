<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>QA Assist · Site Overrides</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        .override-form {
            display: grid;
            gap: 18px;
        }

        .override-form .form-grid {
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        }

        .form-note {
            font-size: 12px;
            color: var(--muted);
        }

        .override-actions {
            display: flex;
            gap: 12px;
            flex-wrap: wrap;
        }
    </style>
</head>
<body class="full-height">
    <div class="app-shell">
        <aside class="sidebar">
            <div class="brand">
                <img src="icon.png" alt="QA Assist icon" width="32" height="32">
                <span>QA Assist</span>
            </div>
            <nav class="nav-links">
                <a class="nav-link" href="log.html">Event Log</a>
                <a class="nav-link" href="settings.html">Settings</a>
                <a class="nav-link active" href="site-overrides.html">Site Overrides</a>
                <a class="nav-link" href="site-info.html">Site Info</a>
            </nav>
        </aside>
        <main class="main-content">
            <div class="header-block">
                <div>
                    <h1>Site overrides</h1>
                    <p>Create domain-specific automation profiles that take precedence over your global settings.</p>
                </div>
                <span class="tag" id="overrideCount">0 overrides</span>
            </div>

            <section class="card table-card">
                <div class="card-header">
                    <h2>Existing overrides</h2>
                </div>
                <div id="overrideContainer" class="grid two">
                    <div class="empty-state" id="overrideEmpty">No overrides created yet.</div>
                </div>
            </section>

            <section class="card">
                <div class="card-header">
                    <h2>Create override</h2>
                </div>
                <p class="form-note">Provide a friendly name and host pattern. Optional controls let you customise playback, key mapping, and scanning behaviour for matching sites.</p>
                <div class="override-form">
                    <div class="form-grid">
                        <div class="form-row">
                            <label for="overrideName">Override name</label>
                            <input type="text" id="overrideName" placeholder="e.g., Maules Creek Ops">
                        </div>
                        <div class="form-row">
                            <label for="overridePattern">Host or domain</label>
                            <input type="text" id="overridePattern" placeholder="e.g., 10.20.250.1">
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-row">
                            <label for="overrideSpeed">Playback speed</label>
                            <select id="overrideSpeed">
                                <option value="1">1x</option>
                                <option value="1.25">1.25x</option>
                                <option value="1.5">1.5x</option>
                                <option value="2">2x</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <label for="overrideKey">Key mapping</label>
                            <select id="overrideKey">
                                <option value="ArrowRight">OAS (→)</option>
                                <option value="ArrowDown">OpWeb (↓)</option>
                            </select>
                        </div>
                    </div>

                    <div class="grid two">
                        <label class="checkbox">
                            <input type="checkbox" id="overrideEnableScanning">
                            <span>Enable scanning automatically</span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" id="overrideAutoPress">
                            <span>Auto press Next</span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" id="overrideEyeTracker">
                            <span>Remove eye tracker overlay</span>
                        </label>
                    </div>

                    <div class="grid two">
                        <label class="checkbox">
                            <input type="checkbox" id="overrideSpeedToggle">
                            <span>Override playback speed</span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" id="overrideKeyToggle">
                            <span>Override key mapping</span>
                        </label>
                    </div>

                    <div class="override-actions">
                        <button class="ghost" id="clearOverrideForm" type="button">Clear form</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <button class="primary floating-save" id="createOverride" type="button">Save override</button>
    <div class="toast" id="overrideToast"></div>

    <div class="modal" id="editModal" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="editTitle">
            <button class="modal-close" id="editClose" type="button" aria-label="Close">×</button>
            <h3 id="editTitle">Edit override</h3>
            <div class="stack">
                <div class="form-row">
                    <label for="editName">Override name</label>
                    <input type="text" id="editName">
                </div>
                <div class="form-row">
                    <label for="editPattern">Host or domain</label>
                    <input type="text" id="editPattern">
                </div>
                <div class="form-grid">
                    <div class="form-row">
                        <label for="editSpeed">Playback speed</label>
                        <select id="editSpeed">
                            <option value="1">1x</option>
                            <option value="1.25">1.25x</option>
                            <option value="1.5">1.5x</option>
                            <option value="2">2x</option>
                        </select>
                    </div>
                    <div class="form-row">
                        <label for="editKey">Key mapping</label>
                        <select id="editKey">
                            <option value="ArrowRight">OAS (→)</option>
                            <option value="ArrowDown">OpWeb (↓)</option>
                        </select>
                    </div>
                </div>
                <div class="grid two">
                    <label class="checkbox">
                        <input type="checkbox" id="editEnableScanning">
                        <span>Enable scanning automatically</span>
                    </label>
                    <label class="checkbox">
                        <input type="checkbox" id="editAutoPress">
                        <span>Auto press Next</span>
                    </label>
                    <label class="checkbox">
                        <input type="checkbox" id="editEyeTracker">
                        <span>Remove eye tracker overlay</span>
                    </label>
                </div>
                <div class="grid two">
                    <label class="checkbox">
                        <input type="checkbox" id="editSpeedToggle">
                        <span>Override playback speed</span>
                    </label>
                    <label class="checkbox">
                        <input type="checkbox" id="editKeyToggle">
                        <span>Override key mapping</span>
                    </label>
                </div>
            </div>
            <div class="modal-actions">
                <button class="ghost" id="cancelEdit" type="button">Cancel</button>
                <button class="primary" id="saveEdit" type="button">Save changes</button>
            </div>
        </div>
    </div>

    <div class="modal" id="overrideConfirmModal" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-modal="true" aria-describedby="overrideConfirmMessage">
            <p id="overrideConfirmMessage" class="form-note">Are you sure you want to remove this override?</p>
            <div class="modal-actions">
                <button class="ghost" id="overrideConfirmCancel" type="button">Cancel</button>
                <button class="primary" id="overrideConfirmAccept" type="button">Delete</button>
            </div>
        </div>
    </div>

    <script src="site-overrides.js"></script>
</body>
</html>
